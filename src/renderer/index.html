<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Video Downloader Pro</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet">
<style>
  :root {
    --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    --secondary-gradient: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    --success-gradient: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  }
  
  body {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    min-height: 100vh;
    padding: 20px;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  
  .main-container {
    max-width: 900px;
    margin: 0 auto;
  }
  
  .glass-card {
    background: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    padding: 40px;
    border: 1px solid rgba(255, 255, 255, 0.18);
  }
  
  .header-section {
    text-align: center;
    margin-bottom: 40px;
  }
  
  .header-icon {
    width: 80px;
    height: 80px;
    background: var(--primary-gradient);
    border-radius: 20px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    box-shadow: 0 4px 20px rgba(102, 126, 234, 0.4);
  }
  
  .header-icon i {
    font-size: 40px;
    color: white;
  }
  
  h1 {
    color: #2d3748;
    font-weight: 700;
    margin-bottom: 10px;
  }
  
  .subtitle {
    color: #718096;
    font-size: 16px;
  }
  
  .input-group-custom {
    position: relative;
    margin-bottom: 20px;
  }
  
  .input-icon {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    color: #667eea;
    font-size: 20px;
    z-index: 10;
  }
  
  .form-control-custom {
    padding: 16px 20px 16px 55px;
    border-radius: 12px;
    border: 2px solid #e2e8f0;
    font-size: 15px;
    transition: all 0.3s ease;
  }
  
  .form-control-custom:focus {
    border-color: #667eea;
    box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
    outline: none;
  }
  
  .quality-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: 12px;
    margin-bottom: 20px;
  }
  
  .quality-btn {
    padding: 12px;
    border-radius: 10px;
    border: 2px solid #e2e8f0;
    background: white;
    cursor: pointer;
    transition: all 0.3s ease;
    text-align: center;
    font-weight: 600;
    color: #4a5568;
  }
  
  .quality-btn:hover {
    border-color: #667eea;
    background: #f7fafc;
    transform: translateY(-2px);
  }
  
  .quality-btn.active {
    background: var(--primary-gradient);
    color: white;
    border-color: transparent;
  }
  
  .download-btn {
    width: 100%;
    padding: 16px;
    border-radius: 12px;
    background: var(--primary-gradient);
    color: white;
    border: none;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
  }
  
  .download-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
  }
  
  .download-btn:active {
    transform: translateY(0);
  }
  
  .download-btn:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
  }
  
  .log-container {
    background: #1a202c;
    border-radius: 12px;
    padding: 20px;
    margin-top: 30px;
    height: 300px;
    overflow-y: auto;
    font-family: 'Courier New', monospace;
    font-size: 13px;
    line-height: 1.6;
    color: #a0aec0;
    box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.3);
  }
  
  .log-container::-webkit-scrollbar {
    width: 8px;
  }
  
  .log-container::-webkit-scrollbar-track {
    background: #2d3748;
    border-radius: 4px;
  }
  
  .log-container::-webkit-scrollbar-thumb {
    background: #4a5568;
    border-radius: 4px;
  }
  
  .log-line {
    margin-bottom: 4px;
  }
  
  .log-success {
    color: #48bb78;
  }
  
  .log-error {
    color: #f56565;
  }
  
  .log-info {
    color: #4299e1;
  }
  
  .log-warning {
    color: #ed8936;
  }
  
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-top: 30px;
  }
  
  .feature-card {
    background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
    padding: 20px;
    border-radius: 12px;
    text-align: center;
    border: 1px solid #e2e8f0;
    transition: all 0.3s ease;
  }
  
  .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  }
  
  .feature-icon {
    width: 50px;
    height: 50px;
    background: var(--success-gradient);
    border-radius: 12px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 12px;
  }
  
  .feature-icon i {
    color: white;
    font-size: 24px;
  }
  
  .feature-title {
    font-weight: 600;
    color: #2d3748;
    margin-bottom: 8px;
    font-size: 14px;
  }
  
  .feature-desc {
    font-size: 12px;
    color: #718096;
  }
  
  .progress-section {
    display: none;
    margin-top: 20px;
  }
  
  .progress-section.active {
    display: block;
  }
  
  .progress {
    height: 8px;
    border-radius: 10px;
    background: #e2e8f0;
    overflow: hidden;
  }
  
  .progress-bar {
    background: var(--success-gradient);
    transition: width 0.3s ease;
  }
  
  .stats-row {
    display: flex;
    justify-content: space-between;
    margin-top: 12px;
    font-size: 13px;
    color: #718096;
  }
  
  .clear-btn {
    background: transparent;
    border: 2px solid #e2e8f0;
    color: #718096;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 13px;
    font-weight: 600;
  }
  
  .clear-btn:hover {
    border-color: #cbd5e0;
    background: #f7fafc;
  }
  
  @keyframes pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
  }
  
  .downloading {
    animation: pulse 1.5s ease-in-out infinite;
  }
</style>
</head>
<body>
<div class="main-container">
  <div class="glass-card">
    <div class="header-section">
      <div class="header-icon">
        <i class="bi bi-cloud-download"></i>
      </div>
      <h1>Video Downloader Pro</h1>
      <p class="subtitle">Download videos from any platform with ease</p>
    </div>
    
    <div class="input-group-custom">
      <i class="bi bi-link-45deg input-icon"></i>
      <input 
        type="text" 
        id="url" 
        class="form-control form-control-custom" 
        placeholder="Paste video URL here (YouTube, Vimeo, etc.)"
      />
    </div>
    
    <div class="mb-3">
      <label class="form-label" style="color: #4a5568; font-weight: 600; margin-bottom: 12px;">
        <i class="bi bi-gear me-2"></i>Quality Preset
      </label>
      <div class="quality-grid">
        <div class="quality-btn" data-quality="best">
          <i class="bi bi-star-fill d-block mb-1"></i>
          Best
        </div>
        <div class="quality-btn active" data-quality="1080p">
          <i class="bi bi-badge-hd d-block mb-1"></i>
          1080p
        </div>
        <div class="quality-btn" data-quality="720p">
          <i class="bi bi-badge-hd d-block mb-1"></i>
          720p
        </div>
        <div class="quality-btn" data-quality="480p">
          <i class="bi bi-badge-sd d-block mb-1"></i>
          480p
        </div>
      </div>
    </div>
    
    <div class="input-group-custom">
      <i class="bi bi-sliders input-icon"></i>
      <input 
        type="text" 
        id="customQuality" 
        class="form-control form-control-custom" 
        placeholder="Or enter custom format code"
      />
    </div>
    
    <div class="progress-section" id="progressSection">
      <div class="progress">
        <div class="progress-bar" id="progressBar" style="width: 0%"></div>
      </div>
      <div class="stats-row">
        <span><i class="bi bi-speedometer2 me-1"></i>Speed: <span id="speed">0 KB/s</span></span>
        <span><i class="bi bi-hourglass-split me-1"></i>ETA: <span id="eta">--:--</span></span>
      </div>
    </div>
    
    <button class="download-btn" id="downloadBtn">
      <i class="bi bi-download me-2"></i>Start Download
    </button>
    
    <div class="d-flex justify-content-between align-items-center mt-3 mb-2">
      <label class="form-label mb-0" style="color: #4a5568; font-weight: 600;">
        <i class="bi bi-terminal me-2"></i>Download Log
      </label>
      <button class="clear-btn" id="clearBtn">
        <i class="bi bi-trash me-1"></i>Clear
      </button>
    </div>
    
    <div class="log-container" id="log">
      <div class="log-line log-info"><i class="bi bi-info-circle me-2"></i>Ready to download. Paste a video URL to begin.</div>
    </div>
    
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <i class="bi bi-lightning-charge"></i>
        </div>
        <div class="feature-title">Ultra Fast</div>
        <div class="feature-desc">High-speed downloads</div>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <i class="bi bi-shield-check"></i>
        </div>
        <div class="feature-title">100% Safe</div>
        <div class="feature-desc">Secure & private</div>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <i class="bi bi-collection-play"></i>
        </div>
        <div class="feature-title">Multi-Platform</div>
        <div class="feature-desc">All major sites</div>
      </div>
      <div class="feature-card">
        <div class="feature-icon">
          <i class="bi bi-badge-hd"></i>
        </div>
        <div class="feature-title">HD Quality</div>
        <div class="feature-desc">Up to 4K support</div>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
const urlInput = document.getElementById("url");
const customQualityInput = document.getElementById("customQuality");
const downloadBtn = document.getElementById("downloadBtn");
const logDiv = document.getElementById("log");
const clearBtn = document.getElementById("clearBtn");
const progressSection = document.getElementById("progressSection");
const progressBar = document.getElementById("progressBar");
const qualityBtns = document.querySelectorAll(".quality-btn");

let selectedQuality = "1080p";
let isDownloading = false;

// Quality selection
qualityBtns.forEach(btn => {
  btn.addEventListener("click", () => {
    qualityBtns.forEach(b => b.classList.remove("active"));
    btn.classList.add("active");
    selectedQuality = btn.dataset.quality;
    customQualityInput.value = "";
  });
});

// Custom quality input
customQualityInput.addEventListener("input", () => {
  if (customQualityInput.value) {
    qualityBtns.forEach(b => b.classList.remove("active"));
  }
});

// Clear log
clearBtn.addEventListener("click", () => {
  logDiv.innerHTML = '<div class="log-line log-info"><i class="bi bi-info-circle me-2"></i>Log cleared. Ready for new download.</div>';
  progressSection.classList.remove("active");
  progressBar.style.width = "0%";
});

// Download button
downloadBtn.addEventListener("click", () => {
  const url = urlInput.value.trim();
  const quality = customQualityInput.value.trim() || selectedQuality;
  
  if (!url) {
    addLog("Please enter a video URL", "error");
    return;
  }
  
  if (!isValidUrl(url)) {
    addLog("Invalid URL format. Please enter a valid video URL.", "error");
    return;
  }
  
  if (isDownloading) {
    addLog("Download already in progress. Please wait...", "warning");
    return;
  }
  
  startDownload(url, quality);
});

function isValidUrl(string) {
  try {
    new URL(string);
    return true;
  } catch (_) {
    return false;
  }
}

function startDownload(url, quality) {
  isDownloading = true;
  downloadBtn.disabled = true;
  downloadBtn.classList.add("downloading");
  downloadBtn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Downloading...';
  
  logDiv.innerHTML = "";
  addLog(`Starting download for: ${url}`, "info");
  addLog(`Quality: ${quality}`, "info");
  progressSection.classList.add("active");
  
  // Simulate progress (replace with actual electronAPI calls)
  if (typeof window.electronAPI !== 'undefined') {
    window.electronAPI.downloadVideo(url, quality);
  } else {
    // Demo mode for testing
    simulateDownload();
  }
}

function simulateDownload() {
  let progress = 0;
  const interval = setInterval(() => {
    progress += Math.random() * 15;
    if (progress >= 100) {
      progress = 100;
      clearInterval(interval);
      finishDownload(0);
    }
    updateProgress(progress);
  }, 500);
}

function updateProgress(percent) {
  progressBar.style.width = percent + "%";
  document.getElementById("speed").textContent = Math.floor(Math.random() * 5000 + 1000) + " KB/s";
  const eta = Math.floor((100 - percent) / 10);
  document.getElementById("eta").textContent = `${eta}s`;
}

function finishDownload(code) {
  isDownloading = false;
  downloadBtn.disabled = false;
  downloadBtn.classList.remove("downloading");
  downloadBtn.innerHTML = '<i class="bi bi-download me-2"></i>Start Download';
  
  if (code === 0) {
    addLog("Download completed successfully!", "success");
    progressBar.style.width = "100%";
  } else {
    addLog(`Download failed with error code: ${code}`, "error");
  }
}

function addLog(message, type = "info") {
  const icons = {
    info: "bi-info-circle",
    success: "bi-check-circle",
    error: "bi-x-circle",
    warning: "bi-exclamation-triangle"
  };
  
  const line = document.createElement("div");
  line.className = `log-line log-${type}`;
  line.innerHTML = `<i class="bi ${icons[type]} me-2"></i>${message}`;
  logDiv.appendChild(line);
  logDiv.scrollTop = logDiv.scrollHeight;
}

// Connect to Electron API if available
if (typeof window.electronAPI !== 'undefined') {
  window.electronAPI.onLog((data) => {
    addLog(data, "info");
  });
  
  window.electronAPI.onFinished((code) => {
    finishDownload(code);
  });
}

// URL input auto-detection
urlInput.addEventListener("paste", (e) => {
  setTimeout(() => {
    if (urlInput.value.trim()) {
      addLog("URL detected. Select quality and click download.", "info");
    }
  }, 100);
});
</script>
</body>
</html>